{"version":3,"sources":["index.js"],"names":["express","require","cors","rutasUsuarios","rutasProductos","rutasVentas","config","admin","serviceAccount","apps","length","initializeApp","credential","cert","databaseURL","db","firestore","app","use","json","req","res","next","PORT","process","env","listen","console","log"],"mappings":";;AAAA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,IAAMC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAApB;;AACA,IAAME,aAAa,GAAGF,OAAO,CAAC,uBAAD,CAA7B;;AACA,IAAMG,cAAc,GAAGH,OAAO,CAAC,wBAAD,CAA9B;;AACA,IAAMI,WAAW,GAAGJ,OAAO,CAAC,qBAAD,CAA3B;;AACAA,OAAO,CAAC,QAAD,CAAP,CAAkBK,MAAlB;;AACA,IAAMC,KAAK,GAAGN,OAAO,CAAC,gBAAD,CAArB;;AACA,IAAMO,cAAc,GAAGP,OAAO,CAAC,aAAD,CAA9B;;AAEA,IAAI,CAACM,KAAK,CAACE,IAAN,CAAWC,MAAhB,EAAwB;AACtBH,EAAAA,KAAK,CAACI,aAAN,CAAoB;AAClBC,IAAAA,UAAU,EAAEL,KAAK,CAACK,UAAN,CAAiBC,IAAjB,CAAsBL,cAAtB,CADM;AAElBM,IAAAA,WAAW,EAAE;AAFK,GAApB;AAID;;AAED,IAAMC,EAAE,GAAGR,KAAK,CAACS,SAAN,EAAX;AAEA,IAAMC,GAAG,GAAGjB,OAAO,EAAnB;AACAiB,GAAG,CAACC,GAAJ,CAAQhB,IAAI,EAAZ;AACAe,GAAG,CAACC,GAAJ,CAAQlB,OAAO,CAACmB,IAAR,EAAR,E,CAEA;;AACAF,GAAG,CAACC,GAAJ,CAAQ,UAACE,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC1BF,EAAAA,GAAG,CAACL,EAAJ,GAASA,EAAT;AACAO,EAAAA,IAAI;AACL,CAHD,E,CAKA;;AACAL,GAAG,CAACC,GAAJ,CAAQ,WAAR,EAAqBf,aAArB;AACAc,GAAG,CAACC,GAAJ,CAAQ,YAAR,EAAsBd,cAAtB;AACAa,GAAG,CAACC,GAAJ,CAAQ,SAAR,EAAmBb,WAAnB;AAEA,IAAMkB,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYF,IAAZ,IAAoB,IAAjC;AACAN,GAAG,CAACS,MAAJ,CAAWH,IAAX,EAAiB,YAAM;AACrBI,EAAAA,OAAO,CAACC,GAAR,gDAAoDL,IAApD;AACD,CAFD","sourcesContent":["const express = require('express');\r\nconst cors = require('cors');\r\nconst rutasUsuarios = require('./rutas/rutasUsuarios');\r\nconst rutasProductos = require('./rutas/rutasProductos');\r\nconst rutasVentas = require('./rutas/rutasVentas');\r\nrequire('dotenv').config();\r\nconst admin = require('firebase-admin');\r\nconst serviceAccount = require('./keys.json');\r\n\r\nif (!admin.apps.length) {\r\n  admin.initializeApp({\r\n    credential: admin.credential.cert(serviceAccount),\r\n    databaseURL: \"https://miejemplo-3b20f.firebaseio.com\"\r\n  });\r\n}\r\n\r\nconst db = admin.firestore();\r\n\r\nconst app = express();\r\napp.use(cors());\r\napp.use(express.json());\r\n\r\n// Middleware para pasar Firestore a las rutas\r\napp.use((req, res, next) => {\r\n  req.db = db;\r\n  next();\r\n});\r\n\r\n// Usar las rutas para usuarios, productos y ventas\r\napp.use('/usuarios', rutasUsuarios);\r\napp.use('/productos', rutasProductos);\r\napp.use('/ventas', rutasVentas);\r\n\r\nconst PORT = process.env.PORT || 3000;\r\napp.listen(PORT, () => {\r\n  console.log(`Servidor en funcionamiento en puerto ${PORT}`);\r\n});\r\n"],"file":"index.dev.js"}