{"version":3,"sources":["index.js"],"names":["express","require","cors","rutasProductos","config","rutasUsuarios","serviceAccount","admin","apps","length","rutasVentas","credential","cert","initializeApp","app","use","req","res","next","db","PORT","process","env","listen","log"],"mappings":"aAAA,IAAMA,QAAUC,QAAQ,WAClBC,KAAOD,QAAQ,QADfD,cAAkBC,QAAA,yBAGlBE,eAAiBF,QAAQ,0BAFzBC,YAAeD,QAArB,uBAIAA,QAAQ,UAAUG,SAHlB,IAAMC,MAAAA,QAAgBJ,kBAKhBK,eAAiBL,QAAQ,eAE1BM,MAAMC,KAAKC,QALhBF,MAAMG,cAAcT,CAOhBU,WAAYJ,MAAMI,WAAWC,KAAKN,gBANtCL,YAAA,2CAEA,IAAMK,GAAAA,MAAAA,YAEDC,IAAMC,UACTD,IAAAA,IAAMM,QACJF,IAAAA,IAAAA,QAAYJ,QAGfO,IAAAC,IAAA,SAAAC,EAAAC,EAAAC,GAUCF,EAAIG,GAAKA,GARXD,MAaAJ,IAAIC,IAAI,YAAaV,eANrBS,IAAIC,IAAI,aAAAZ,gBACNa,IAAAA,IAAA,UAAAN,aAED,IAEDU,KAAAC,QAAAC,IAAAF,MAAA,IAMAN,IAAIS,OAAOH,KAAM,WALjBN,QAAQU,IAARV,wCAAAA,OAAAM","file":"index.min.js","sourcesContent":["const express = require('express');\r\nconst cors = require('cors');\r\nconst rutasUsuarios = require('./rutas/rutasUsuarios');\r\nconst rutasProductos = require('./rutas/rutasProductos');\r\nconst rutasVentas = require('./rutas/rutasVentas');\r\nrequire('dotenv').config();\r\nconst admin = require('firebase-admin');\r\nconst serviceAccount = require('./keys.json');\r\n\r\nif (!admin.apps.length) {\r\n  admin.initializeApp({\r\n    credential: admin.credential.cert(serviceAccount),\r\n    databaseURL: \"https://miejemplo-3b20f.firebaseio.com\"\r\n  });\r\n}\r\n\r\nconst db = admin.firestore();\r\n\r\nconst app = express();\r\napp.use(cors());\r\napp.use(express.json());\r\n\r\n// Middleware para pasar Firestore a las rutas\r\napp.use((req, res, next) => {\r\n  req.db = db;\r\n  next();\r\n});\r\n\r\n// Usar las rutas para usuarios, productos y ventas\r\napp.use('/usuarios', rutasUsuarios);\r\napp.use('/productos', rutasProductos);\r\napp.use('/ventas', rutasVentas);\r\n\r\nconst PORT = process.env.PORT || 3000;\r\napp.listen(PORT, () => {\r\n  console.log(`Servidor en funcionamiento en puerto ${PORT}`);\r\n});\r\n"]}